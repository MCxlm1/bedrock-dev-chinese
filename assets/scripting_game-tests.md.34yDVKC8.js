import{_ as l,E as p,j as r,k as h,a5 as i,A as e,I as n,J as t}from"./chunks/framework.3Z9w-w8R.js";const y=JSON.parse('{"title":"GameTests","description":"Learn how to use the GameTest Framework to test whether game mechanics from your map or add-on work.","frontmatter":{"title":"GameTests","description":"Learn how to use the GameTest Framework to test whether game mechanics from your map or add-on work.","category":"Tutorials","tags":["experimental"],"mentions":["cda94581","SirLich","Joelant05","solvedDev","sermah","stirante","Paty007gr","JaylyDev","Fabrimat","Herobrine643928","kumja1","QuazChick"]},"headers":[{"level":2,"title":"Getting Started with GameTest","slug":"getting-started-with-gametest","link":"#getting-started-with-gametest","children":[]}],"relativePath":"scripting/game-tests.md","filePath":"scripting/game-tests.md"}'),k={name:"scripting/game-tests.md"};function o(d,s,c,g,m,u){const a=p("CodeHeader");return h(),r("div",null,[s[2]||(s[2]=i('<div class="warning custom-block"><p class="custom-block-title">BETA APIS</p><p>The Script API is currently in active development, and breaking changes are frequent. This page assumes the format of Minecraft 1.20.40</p></div><p>The GameTest Framework allows us to create unit tests (&quot;GameTests&quot;) which make it easier to test if game mechanics work.</p><p>GameTests can be used with the <code class="shiki"><span>/gametest</span></code> command.</p><ul><li><code class="shiki"><span>/gametest runthis</span></code> - Runs the nearest GameTest in range.</li><li><code class="shiki"><span>/gametest runthese</span></code> - Runs all GameTests in range.</li><li><code class="shiki"><span>/gametest pos</span></code> - It tells you the relative coordinates of the nearest GameTest.</li><li><code class="shiki"><span>/gametest clearall [radius: int]</span></code> - Removes all GameTests in the specified radius.</li><li><code class="shiki"><span>/gametest run &lt;testName: GameTestName&gt; [rotationSteps: int]</span></code> - Creates and runs the specified GameTest.</li><li><code class="shiki"><span>/gametest runset [tagTag: GameTestTag] [rotationSteps: int]</span></code> - Creates and runs all GameTests with the specified tag.</li><li><code class="shiki"><span>/gametest create &lt;testName: string&gt; [width: int] [height: int] [depth: int]</span></code> - Creates a blank GameTest area with the specified dimensions.</li><li><code class="shiki"><span>/reload</span></code> - Reloads all function and script files from all behavior packs. (1.19+)</li></ul><p>Since 1.19.40, vanilla GameTests have not been included in the Minecraft game files, so you cannot run any GameTests without adding your own custom behavior pack. You can find vanilla GameTests in the <a href="https://github.com/microsoft/minecraft-gametests/tree/main/js-gametests/behavior_packs/JsGameTests" target="_blank" rel="noreferrer">minecraft-gametests</a> GitHub repository.</p><h2 id="getting-started-with-gametest" tabindex="-1">Getting Started with GameTest <a class="header-anchor" href="#getting-started-with-gametest" aria-label="Permalink to &quot;Getting Started with GameTest&quot;">â€‹</a></h2><p>To get started, you&#39;ll want to begin with your own behavior pack and decent knowledge of scripting and API. If you&#39;re getting started check out <a href="/scripting/scripting-intro">this article</a>.</p><p>To use the GameTest Framework, the <code class="shiki"><span>@minecraft/server-gametest</span></code> module is required. The GameTest API module also requires the <code class="shiki"><span>@minecraft/server</span></code> module, so in your dependency in your manifest.json requires the following:</p>',8)),e(a,null,{default:n(()=>s[0]||(s[0]=[t("BP/manifest.json/")])),_:1}),s[3]||(s[3]=i(`<div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;dependencies&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;module_name&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;@minecraft/server&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;version&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;1.7.0-beta&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    },</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;module_name&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;@minecraft/server-gametest&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;version&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;1.0.0-beta&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>To run a GameTest, a structure file is required on your behavior pack and the command needs to be registered via <code class="shiki"><span>register</span></code> function.</p>`,2)),e(a,null,{default:n(()=>s[1]||(s[1]=[t("BP/scripts/Main.js")])),_:1}),s[4]||(s[4]=i(`<div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">import</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;"> *</span><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;"> as</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> GameTest</span><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;"> from</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;@minecraft/server-gametest&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">// Registration code for our test</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">GameTest</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">register</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">    &quot;wiki&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">// Name of the class of tests.</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">    &quot;simpleTest&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">// Name of this test.</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    (</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">test</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">) </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">        // Implementation of the test</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">        /**</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">         * </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">@type</span><span style="--shiki-dark:#4EC9B0;--shiki-light:#267F99;"> {import(&quot;@minecraft/server&quot;).Vector3}</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">         * location from the test of where the cow should spawn in</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">         */</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">        const</span><span style="--shiki-dark:#4FC1FF;--shiki-light:#0070C1;"> location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 0</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">y:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 0</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 0</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> };</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">        const</span><span style="--shiki-dark:#4FC1FF;--shiki-light:#0070C1;"> cow</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">test</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">spawn</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;minecraft:cow&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">); </span><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">// Returns an Entity instance</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">        test</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">succeedWhen</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(() </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            test</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">assertEntityPresentInArea</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;minecraft:cow&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">true</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        });</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">)</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    .</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">maxTicks</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">410</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">)</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    .</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">structureName</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;wiki:test&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">); </span><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">// References &quot;BP/structures/wiki/test.mcstructure&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>The test function is locked when the command is registered, meaning the test function can not access to variables outside the test function after the command is registered.</p><p>If you&#39;re having issues with the Script API, consider checking out the <a href="https://learn.microsoft.com/minecraft/creator/documents/gametestbuildyourfirstgametest" target="_blank" rel="noreferrer">Building your first GameTest</a> guide on Microsoft Learn, or joining the <strong>Bedrock Add-Ons</strong> Discord server for support, which you can find alongside a vast array of other resources on the <a href="/meta/useful-links#discord-links">Useful Links</a> page!</p>`,3))])}const b=l(k,[["render",o]]);export{y as __pageData,b as default};
