import{_ as o,E as r,j as p,k as d,l as s,A as n,a5 as i,J as t,I as l}from"./chunks/framework.3Z9w-w8R.js";const v=JSON.parse('{"title":"注视实体","description":"以下教程提供了一种资源包方法来检测玩家何时正在注视一个实体。","frontmatter":{"title":"注视实体","category":"Tutorials","tags":["intermediate"],"mentions":["shanewolf38","MedicalJewel105","TheItsNameless","SmokeyStack"],"description":"以下教程提供了一种资源包方法来检测玩家何时正在注视一个实体。"},"headers":[{"level":2,"title":"变量","slug":"变量","link":"#变量","children":[]},{"level":2,"title":"修改","slug":"修改","link":"#修改","children":[]},{"level":2,"title":"解释","slug":"解释","link":"#解释","children":[]}],"relativePath":"entities/look-at-entity.md","filePath":"entities/look-at-entity.md"}'),c={name:"entities/look-at-entity.md"};function m(_,a,h,k,u,b){const e=r("CodeHeader");return d(),p("div",null,[a[2]||(a[2]=s("p",null,[t("以下教程提供了一种资源包方法来检测玩家何时正在注视一个实体。下面的代码必须放置在将被玩家注视的实体内部，并将提供一个变量"),s("code",{class:"shiki"},[s("span",null,"v.look_at_entity")]),t("，当实体被注视时返回true。")],-1)),a[3]||(a[3]=s("h2",{id:"变量",tabindex:"-1"},[t("变量 "),s("a",{class:"header-anchor",href:"#变量","aria-label":'Permalink to "变量"'},"​")],-1)),n(e,null,{default:l(()=>a[0]||(a[0]=[t("RP/entity/mob.entity.json")])),_:1}),a[4]||(a[4]=i(`<div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;pre_animation&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">  &quot;v.look_at_entity = Math.abs(Math.abs(q.rotation_to_camera(1) - q.camera_rotation(1)) - 180) &lt; (20 / q.distance_from_camera) &amp;&amp; Math.abs(q.rotation_to_camera(0) + q.camera_rotation(0)) &lt; (10 / q.distance_from_camera);&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">],</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>由于查询<code class="shiki"><span>q.rotation_to_camera</span></code>基于实体的原点（它们的脚部），垂直检测范围将基于实体底部。下面的代码为垂直角度创建了一个修改后的变量，考虑了位置偏移，使垂直检测范围基于实体的中心。</p></div>`,2)),n(e,null,{default:l(()=>a[1]||(a[1]=[t("RP/entity/mob.entity.json")])),_:1}),a[5]||(a[5]=i(`<div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;pre_animation&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">  &quot;v.rotation_to_camera_0 = -Math.atan2(-q.distance_from_camera * Math.sin(q.rotation_to_camera(0)) - 1, q.distance_from_camera * Math.cos(q.rotation_to_camera(0)));&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">  &quot;v.look_at_entity = Math.abs(Math.abs(q.rotation_to_camera(1) - q.camera_rotation(1)) - 180) &lt; (20 / q.distance_from_camera) &amp;&amp; Math.abs(v.rotation_to_camera_0 + q.camera_rotation(0)) &lt; (60 / q.distance_from_camera);&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">],</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="修改" tabindex="-1">修改 <a class="header-anchor" href="#修改" aria-label="Permalink to &quot;修改&quot;">​</a></h2><p>提供的代码对于标准Minecraft生物大小（宽1格，高2格）非常精确，但对于不同尺寸的实体应更改参数。<code class="shiki"><span>- 1</span></code>控制生物中心的位置偏移（-向上，+向下），<code class="shiki"><span>20</span></code>控制水平角度灵敏度，<code class="shiki"><span>60</span></code>控制垂直角度灵敏度。</p><h2 id="解释" tabindex="-1">解释 <a class="header-anchor" href="#解释" aria-label="Permalink to &quot;解释&quot;">​</a></h2><p>该变量通过检查实体看向玩家所需旋转角度是否与玩家看向实体所需旋转角度相反来检测玩家何时看向实体。水平和垂直角度灵敏度由实体到摄像机的距离调整以保持准确性。</p>`,5))])}const y=o(c,[["render",m]]);export{v as __pageData,y as default};
