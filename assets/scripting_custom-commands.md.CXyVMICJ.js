import{_ as h,E as p,j as k,k as r,a5 as i,A as a,I as e,J as l}from"./chunks/framework.3Z9w-w8R.js";const C=JSON.parse('{"title":"Custom Commands","description":"Learn how to create your own commands that can be used in chat, command blocks and elsewhere using scripts.","frontmatter":{"title":"Custom Commands","description":"Learn how to create your own commands that can be used in chat, command blocks and elsewhere using scripts.","category":"Tutorials","mentions":["cda94581","fraysdev","destruc7ion","jannik-de","riesters","Fabrimat","SmokeyStack","CrackedMatter","JaylyDev","Herobrine643928","conmaster2112","kumja1","modmaker101","realfeatherdev","QuazChick","jeanmajid","nperma"]},"headers":[{"level":2,"title":"Pack Setup","slug":"pack-setup","link":"#pack-setup","children":[]},{"level":2,"title":"Registering Custom Commands","slug":"registering-custom-commands","link":"#registering-custom-commands","children":[{"level":3,"title":"Command Name","slug":"command-name","link":"#command-name","children":[]},{"level":3,"title":"Command Description","slug":"command-description","link":"#command-description","children":[]},{"level":3,"title":"Command Permission Level","slug":"command-permission-level","link":"#command-permission-level","children":[]},{"level":3,"title":"Command Parameters","slug":"command-parameters","link":"#command-parameters","children":[{"level":4,"title":"Mandatory Parameters","slug":"mandatory-parameters","link":"#mandatory-parameters","children":[]},{"level":4,"title":"Optional Parameters","slug":"optional-parameters","link":"#optional-parameters","children":[]}]},{"level":3,"title":"Command Callback","slug":"command-callback","link":"#command-callback","children":[]}]},{"level":2,"title":"Teleport Command Example","slug":"teleport-command-example","link":"#teleport-command-example","children":[]},{"level":2,"title":"Restricting Command Execution to Players","slug":"restricting-command-execution-to-players","link":"#restricting-command-execution-to-players","children":[]}],"relativePath":"scripting/custom-commands.md","filePath":"scripting/custom-commands.md"}'),o={name:"scripting/custom-commands.md"};function d(D,s,c,m,g,y){const n=p("CodeHeader"),t=p("FolderView");return r(),k("div",null,[s[4]||(s[4]=i('<p>Who doesn&#39;t want cool custom commands? In this tutorial, you will learn how to create your own commands that can be used in chat, command blocks and elsewhere using scripts.</p><h2 id="pack-setup" tabindex="-1">Pack Setup <a class="header-anchor" href="#pack-setup" aria-label="Permalink to &quot;Pack Setup&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Before creating a script, it is recommended to learn the basics of JavaScript, add-ons, and the Script API. To see what the Script API can do, see the <a href="https://learn.microsoft.com/minecraft/creator/scriptapi" target="_blank" rel="noreferrer">Microsoft Docs</a></p></div><p>Assuming you have understood the basics of scripting, let&#39;s start creating the pack.</p><p>Below is an example manifest, make sure that you <strong>generate your own UUIDs</strong>.</p>',5)),a(n,null,{default:e(()=>s[0]||(s[0]=[l("BP/manifest.json")])),_:1}),s[5]||(s[5]=i(`<div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">{</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;format_version&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">2</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;header&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;name&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;Custom Commands&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;description&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;Custom Commands using the Script API&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;min_engine_version&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">1</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">21</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">100</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">],</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;uuid&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;c8c3239f-027f-4e80-890f-880eba65027d&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;version&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;1.0.0&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    },</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;modules&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">            &quot;type&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;script&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">            &quot;language&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;javascript&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">            &quot;entry&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;scripts/main.js&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">            &quot;uuid&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;f626740d-50a6-49f1-a24a-834983b72134&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">            &quot;version&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;1.0.0&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    ],</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;dependencies&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">            &quot;module_name&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;@minecraft/server&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">            &quot;version&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;2.1.0&quot;</span><span style="--shiki-dark:#6A9955;--shiki-light:#008000;"> // Needs to be at least 2.1.0</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    ]</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>In our manifest, we have added a script module. The <code class="shiki"><span>entry</span></code> is the path of the script file within the <code class="shiki"><span>scripts</span></code> folder of the behavior pack. The dependency allows us to import the native <code class="shiki"><span>@minecraft/server</span></code> module into our script.</p>`,2)),a(t,{paths:["BP/scripts/main.js","BP/manifest.json","BP/pack_icon.png"]}),s[6]||(s[6]=i('<h2 id="registering-custom-commands" tabindex="-1">Registering Custom Commands <a class="header-anchor" href="#registering-custom-commands" aria-label="Permalink to &quot;Registering Custom Commands&quot;">​</a></h2><p>Now comes the fun part — creating your custom command.</p><h3 id="command-name" tabindex="-1">Command Name <a class="header-anchor" href="#command-name" aria-label="Permalink to &quot;Command Name&quot;">​</a></h3><p>First, you&#39;ll need to come up with a name for your command. This name must have a namespace and should only include lowercase letters e.g. <code class="shiki"><span>wiki:goto</span></code>.</p><div class="danger custom-block"><p class="custom-block-title">NAMESPACES</p><p>Minecraft will automatically register a version of your custom command without the provided namespace (e.g. <code class="shiki"><span>/goto</span></code> as well as <code class="shiki"><span>/wiki:goto</span></code>).</p><p>This feature was added to make custom commands more convenient to type into chat quickly, however you should <strong>never</strong> use the version without the namespace outside of chat.</p><p>Doing so will cause command blocks, functions, etc. to stop working if another add-on adds a command with the same name (without the namespace).</p></div><h3 id="command-description" tabindex="-1">Command Description <a class="header-anchor" href="#command-description" aria-label="Permalink to &quot;Command Description&quot;">​</a></h3><p>You also need to provide a description for the command which will appear next to the command&#39;s name in autocompletions.</p><h3 id="command-permission-level" tabindex="-1">Command Permission Level <a class="header-anchor" href="#command-permission-level" aria-label="Permalink to &quot;Command Permission Level&quot;">​</a></h3><p>The permission level of your command is important as it ensures that players that should not have access to potentially dangerous commands cannot run them.</p><p>Below are the different permission levels that a command may be set to:</p><ul><li><code class="shiki"><span>Any</span></code> — allows the command to be ran from anywhere, even by non-operators.</li><li><code class="shiki"><span>GameDirectors</span></code> — restricts the command to operators (including command blocks).</li><li><code class="shiki"><span>Admin</span></code> — restricts the command to operators (excluding command blocks).</li><li><code class="shiki"><span>Host</span></code> — restricts the command to the player hosting the world.</li><li><code class="shiki"><span>Owner</span></code> — restricts the command to the server console.</li></ul><h3 id="command-parameters" tabindex="-1">Command Parameters <a class="header-anchor" href="#command-parameters" aria-label="Permalink to &quot;Command Parameters&quot;">​</a></h3><p>Below are the different parameter types that can be used in custom commands:</p><ul><li><code class="shiki"><span>BlockType</span></code></li><li><code class="shiki"><span>Boolean</span></code></li><li><code class="shiki"><span>EntitySelector</span></code> — returns an array of selected entities (even if only one entity is selected).</li><li><code class="shiki"><span>EntityType</span></code></li><li><code class="shiki"><span>Enum</span></code> — the parameter&#39;s <code class="shiki"><span>name</span></code> must be the name of a registered command enum.</li><li><code class="shiki"><span>Float</span></code></li><li><code class="shiki"><span>Integer</span></code></li><li><code class="shiki"><span>ItemType</span></code></li><li><code class="shiki"><span>Location</span></code> — returns a <code class="shiki"><span>Vector3</span></code> object.</li><li><code class="shiki"><span>PlayerSelector</span></code> — similar to <code class="shiki"><span>EntitySelector</span></code> but only returns players.</li><li><code class="shiki"><span>String</span></code></li></ul><p>Custom commands can have a maximum of 8 parameters.</p><h4 id="mandatory-parameters" tabindex="-1">Mandatory Parameters <a class="header-anchor" href="#mandatory-parameters" aria-label="Permalink to &quot;Mandatory Parameters&quot;">​</a></h4><p>Mandatory parameters must be specified in order for the command to run.</p><h4 id="optional-parameters" tabindex="-1">Optional Parameters <a class="header-anchor" href="#optional-parameters" aria-label="Permalink to &quot;Optional Parameters&quot;">​</a></h4><p>Optional parameters do not need to be specified and will always follow mandatory parameters.</p><h3 id="command-callback" tabindex="-1">Command Callback <a class="header-anchor" href="#command-callback" aria-label="Permalink to &quot;Command Callback&quot;">​</a></h3><p>This is the function that is called (in <a href="/scripting/privileges#read-only-mode">read-only mode</a>) every time the command is executed.</p><p>The callback always gets the command origin as its first parameter, the rest of the parameters are based on the <code class="shiki"><span>mandatoryParameters</span></code> and <code class="shiki"><span>optionalParameters</span></code> you provide. The number of parameters passed to the callback matches the number of parameters defined in the command, so if you have a command with 3 different parameters your callback would look like this:</p>',22)),a(n,null,{default:e(()=>s[1]||(s[1]=[l("BP/scripts/main.js")])),_:1}),s[7]||(s[7]=i(`<div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">customCommandRegistry</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">registerCommand</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">        name:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;wiki:command&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">        description:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;A very useful command.&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">        permissionLevel:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> CommandPermissionLevel</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">GameDirectors</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">        mandatoryParameters:</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> [</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">name:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;param1&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">type:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> CustomCommandParamType</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">String</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> },</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">name:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;param2&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">type:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> CustomCommandParamType</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">Integer</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> },</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">name:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;param3&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">type:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> CustomCommandParamType</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">Boolean</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> },</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        ],</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    },</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    (</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">origin</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">param1</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">param2</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">param3</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">) </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">        // Handle the command logic here</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="teleport-command-example" tabindex="-1">Teleport Command Example <a class="header-anchor" href="#teleport-command-example" aria-label="Permalink to &quot;Teleport Command Example&quot;">​</a></h2><p>In this example, we will create a custom slash command <code class="shiki"><span>/wiki:goto</span></code> that allows players to teleport to predefined locations: <code class="shiki"><span>spawn</span></code>, <code class="shiki"><span>shop</span></code>, or <code class="shiki"><span>arena</span></code>.</p><p>In command autocompletions, its syntax is the following:</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span>/wiki:goto &lt;teleportLocation: string&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,5)),a(n,null,{default:e(()=>s[2]||(s[2]=[l("BP/scripts/main.js")])),_:1}),s[8]||(s[8]=i(`<div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">import</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    CommandPermissionLevel</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    CustomCommandParamType</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    CustomCommandStatus</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    system</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">} </span><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">from</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;@minecraft/server&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">system</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">beforeEvents</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">startup</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">subscribe</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(({ </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">customCommandRegistry</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> }) </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">    // Register an enum for teleport locations</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    customCommandRegistry</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">registerEnum</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;wiki:teleportLocation&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, [</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;spawn&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;shop&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;arena&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">    // Register the custom command</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    customCommandRegistry</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">registerCommand</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            name:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;wiki:goto&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            description:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;Teleport to a specific location.&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            permissionLevel:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> CommandPermissionLevel</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">Any</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">// Allow all players to run the command</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            cheatsRequired:</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;"> false</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">// Allow the command to be ran without enabling cheats</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            mandatoryParameters:</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> [</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">                {</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">                    // Use the enum by setting the name to the enum name</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                    name:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;wiki:teleportLocation&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                    type:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> CustomCommandParamType</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">Enum</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">                },</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            ],</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        },</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        (</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">origin</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">teleportLocation</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">) </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">            // Only run if executed by an entity</span></span>
<span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">            if</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> (!</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">origin</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">sourceEntity</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">)</span></span>
<span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">                return</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                    status:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> CustomCommandStatus</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">Failure</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">                };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">            let</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">            // Handle teleportation based on the location string</span></span>
<span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">            if</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">teleportLocation</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> === </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;spawn&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">) {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 0</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">y:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 100</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 0</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> };</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            } </span><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">else</span><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;"> if</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">teleportLocation</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> === </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;shop&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">) {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 100</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">y:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 100</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 100</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> };</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            } </span><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">else</span><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;"> if</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> (</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">teleportLocation</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> === </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;arena&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">) {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 200</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">y:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 100</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z:</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;"> 200</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> };</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            system</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">run</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(() </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                origin</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">sourceEntity</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">teleport</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">            return</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                status:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> CustomCommandStatus</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">Success</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                message:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;Teleporting to &quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> + </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">teleportLocation</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            };</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    );</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h2 id="restricting-command-execution-to-players" tabindex="-1">Restricting Command Execution to Players <a class="header-anchor" href="#restricting-command-execution-to-players" aria-label="Permalink to &quot;Restricting Command Execution to Players&quot;">​</a></h2><p>By default, the &quot;any&quot; command permission level allows sources that are not players to run the command, which isn&#39;t suitable for commands that should only be ran by players.</p><p>In this example, we will create a custom slash command <code class="shiki"><span>/wiki:heal</span></code> that can only be executed by players (not the server console or command blocks). This command will restore the player&#39;s health back to full.</p>`,4)),a(n,null,{default:e(()=>s[3]||(s[3]=[l("BP/scripts/main.js")])),_:1}),s[9]||(s[9]=i(`<div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">import</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    CommandPermissionLevel</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    CustomCommandParamType</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    CustomCommandStatus</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    system</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    Player</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">} </span><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">from</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;@minecraft/server&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">system</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">beforeEvents</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">startup</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">subscribe</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(({ </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">customCommandRegistry</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> }) </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    customCommandRegistry</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">registerCommand</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            name:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;wiki:heal&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            description:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;Restore your health to the default value.&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            permissionLevel:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> CommandPermissionLevel</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">Any</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            cheatsRequired:</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;"> false</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        },</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        (</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">origin</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">) </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">            const</span><span style="--shiki-dark:#4FC1FF;--shiki-light:#0070C1;"> source</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">origin</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">initiator</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> ?? </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">origin</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">sourceEntity</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">            // Only allow players to use this command (or NPCs, treating the initiator as the player executing the command)</span></span>
<span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">            if</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> (!(</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">source</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;"> instanceof</span><span style="--shiki-dark:#4EC9B0;--shiki-light:#267F99;"> Player</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">)) {</span></span>
<span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">                return</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                    status:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> CustomCommandStatus</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">Failure</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                    message:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;This command can only be executed by players.&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">                };</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">            // Escape read-only mode to heal the player</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            system</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">run</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(() </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">=&gt;</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> source</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">getComponent</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;health&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">).</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">resetToDefaultValue</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">            return</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                status:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> CustomCommandStatus</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">Success</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">                message:</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;You have been fully healed!&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            };</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    );</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p>For more details about custom commands, see the <a href="https://learn.microsoft.com/minecraft/creator/documents/scripting/custom-commands" target="_blank" rel="noreferrer">Microsoft Docs on custom commands</a>.</p>`,2))])}const b=h(o,[["render",d]]);export{C as __pageData,b as default};
