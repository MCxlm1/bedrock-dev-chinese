import{_ as l,E as o,j as r,k as p,l as a,A as e,a5 as n,J as t}from"./chunks/framework.3Z9w-w8R.js";const h="/assets/images/visuals/math-based-animations/animation-1.gif",D=JSON.parse('{"title":"Math-Based Animations","description":"Create smooth and breathtaking animations with Math.","frontmatter":{"title":"Math-Based Animations","tags":["intermediate"],"category":"General","mentions":["SirLich","solvedDev","Joelant05","MedicalJewel105","yanasakana","Lufurrius","TheItsNameless","SmokeyStack","ThomasOrs"],"description":"Create smooth and breathtaking animations with Math."},"headers":[{"level":2,"title":"Writing Math-Animations","slug":"writing-math-animations","link":"#writing-math-animations","children":[{"level":3,"title":"By Hand","slug":"by-hand","link":"#by-hand","children":[]},{"level":3,"title":"In Blockbench","slug":"in-blockbench","link":"#in-blockbench","children":[]}]},{"level":2,"title":"Using Queries","slug":"using-queries","link":"#using-queries","children":[{"level":3,"title":"Avoiding Animation Controllers","slug":"avoiding-animation-controllers","link":"#avoiding-animation-controllers","children":[]}]},{"level":2,"title":"Example","slug":"example","link":"#example","children":[]}],"relativePath":"visuals/math-based-animations.md","filePath":"visuals/math-based-animations.md"}'),d={name:"visuals/math-based-animations.md"};function m(k,s,c,u,g,b){const i=o("CodeHeader");return p(),r("div",null,[s[0]||(s[0]=a("p",null,[t("Math animations are a powerful alternative to keyframe animations. Generally speaking, "),a("code",{class:"shiki"},[a("span",null,"math-based animations")]),t(" is the concept of using Molang expressions to animate entity geometry. All vanilla animations are math-based, here is an example:")],-1)),e(i),s[1]||(s[1]=n(`<div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;leftarm&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> : {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;rotation&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> : [ </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;((-0.2 + 1.5 * (math.abs(math.mod(q.modified_distance_moved, 13) - 6.5) - 3.25) / 3.25) * q.modified_move_speed) * 57.3 - v.agent.armxrotationfactor&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">0.0</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;-v.agent.armzrotation&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> ]</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>As you can see, math-based animations can be quite complicated and difficult to understand. Thus, they should be treated as a <em>specialized-alternative</em> to using key-frames - not a <em>total</em> replacement.</p><p>This is the cost of the smooth and ideal loop of the animation.</p><p><img src="`+h+'" alt=""></p><h2 id="writing-math-animations" tabindex="-1">Writing Math-Animations <a class="header-anchor" href="#writing-math-animations" aria-label="Permalink to &quot;Writing Math-Animations&quot;">​</a></h2><h3 id="by-hand" tabindex="-1">By Hand <a class="header-anchor" href="#by-hand" aria-label="Permalink to &quot;By Hand&quot;">​</a></h3><p>To write such an animation by hand, simply create an animation file and substitute keyframes for singular arrays of values; strings values are accepted, and it is in a string that one may place a math expression. The Vanilla files can prove an invaluable reference for these types of animations, and it is <strong>strongly</strong> recommended you download and preview them!</p><p>As an important tip for those who wish to <em>visualise</em> their processes, the tool, <a href="https://jannisx11.github.io/molang-grapher/" target="_blank" rel="noreferrer">Molang Grapher</a> from <a href="https://twitter.com/jannisx11" target="_blank" rel="noreferrer">Jannis</a> may simulate expressions on a proper graph!</p><h3 id="in-blockbench" tabindex="-1">In Blockbench <a class="header-anchor" href="#in-blockbench" aria-label="Permalink to &quot;In Blockbench&quot;">​</a></h3><p>Blockbench allows - to a degree - for the creation and live-previewing of most math-based animations. To begin, first create a new keyframe at frame 0 in your timeline. You may then add and edit Molang expressions in the keyframe panel on the left sidebar. Mixing keyframes and math is supported. <strong>Remember</strong>, you should always omit quotation marks around expressions; they are only required in raw JSON-editing!</p><p>Do mind that not all Molang queries are supported in Blockbench in part due to missing game-context. If you wish to preview an animation that uses a context-specific query, you may add it to the Variable Placeholders section, just underneath the keyframe panel, to simulate a value. For example, adding <code class="shiki"><span>q.modified_distance_moved = time*8</span></code> simulates the <code class="shiki"><span>modified_distance_moved</span></code> query with a speed of 8 blocks per second.</p><h2 id="using-queries" tabindex="-1">Using Queries <a class="header-anchor" href="#using-queries" aria-label="Permalink to &quot;Using Queries&quot;">​</a></h2><p>The largest and most useful of tools in our mathematical repertoire is the wide array of Molang &quot;Queries&quot;. Queries can be used to add outside information into your math expression.</p><p>Common Queries include:</p><ul><li><code class="shiki"><span>q.modified_distance_moved</span></code></li><li><code class="shiki"><span>q.modified_move_speed</span></code></li><li><code class="shiki"><span>q.anim_time</span></code></li><li><code class="shiki"><span>q.life_time</span></code></li></ul><p>These are utilised in animations to draw things such as the attack-time or distance-moved from the game-world to provide a more dynamic and synced flow.</p><h3 id="avoiding-animation-controllers" tabindex="-1">Avoiding Animation Controllers <a class="header-anchor" href="#avoiding-animation-controllers" aria-label="Permalink to &quot;Avoiding Animation Controllers&quot;">​</a></h3><p>By using queries, you can avoid the need to create animation controllers. If the entity&#39;s speed is directly related to the speed of the walk animation, then by default, an entity that isn&#39;t moving won&#39;t be animated.</p><h2 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h2><p>A specific application example of a Math-Based animation may be found below. The example utilises the Molang Query, <code class="shiki"><span>&quot;q.modified_distance_moved&quot;</span></code>:</p>',20)),e(i),s[2]||(s[2]=n(`<div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">{</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;format_version&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;1.12.0&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;animations&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">        &quot;animation.car.wheel_spin&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">            &quot;loop&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">true</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">            &quot;bones&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">                &quot;front_wheels&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">                    &quot;rotation&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;q.modified_distance_moved * -30&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">0</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">0</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">]</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">                },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">                &quot;back_wheels&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">                    &quot;rotation&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;q.modified_distance_moved * -30&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">0</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">0</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">]</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">                }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">            }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    }</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>In this example, the model&#39;s bones, <code class="shiki"><span>front_wheels</span></code> and <code class="shiki"><span>back_wheels</span></code>, are rotated on the X-axis based on information passed from <code class="shiki"><span>q.modified_distance_moved</span></code>, then multiplied by -30.</p><p>This means that a car at <em>rest</em> <strong>will not</strong> spin, and a car that is <em>driving</em> <strong>will spin</strong> - doing so at a rate proportional to the car&#39;s movement speed.</p>`,3))])}const f=l(d,[["render",m]]);export{D as __pageData,f as default};
