import{_ as p,E as e,j as k,k as r,a5 as i,A as a,I as t,J as n}from"./chunks/framework.3Z9w-w8R.js";const b=JSON.parse('{"title":"AOE云介绍","description":"学习如何使用和操控区域效果云。","frontmatter":{"title":"AOE云介绍","description":"学习如何使用和操控区域效果云。","category":"Tutorials","tags":["intermediate"],"mentions":["Sprunkles137","MedicalJewel105","Nytreon"]},"headers":[{"level":2,"title":"概述","slug":"概述","link":"#概述","children":[]},{"level":2,"title":"放置AOE云","slug":"放置aoe云","link":"#放置aoe云","children":[{"level":3,"title":"NBT编辑器","slug":"nbt编辑器","link":"#nbt编辑器","children":[]},{"level":3,"title":"结构文件","slug":"结构文件","link":"#结构文件","children":[]},{"level":3,"title":"NBT格式","slug":"nbt格式","link":"#nbt格式","children":[]}]},{"level":2,"title":"使用AOE云","slug":"使用aoe云","link":"#使用aoe云","children":[{"level":3,"title":"脚本实用工具","slug":"脚本实用工具","link":"#脚本实用工具","children":[]}]}],"relativePath":"entities/introduction-to-aec.md","filePath":"entities/introduction-to-aec.md"}'),d={name:"entities/introduction-to-aec.md"};function D(o,s,c,y,g,C){const l=e("Button"),h=e("CodeHeader");return r(),k("div",null,[s[3]||(s[3]=i('<p><strong>区域效果云</strong>，在内部也被称为AOE云和<code class="shiki"><span>minecraft:area_effect_cloud</span></code>，是具有许多独特特性的特殊实体。通常这些实体是通过投掷滞留药水创建的，但通过结构和一些NBT编辑技巧，我们可以在制图方面以非常强大的方式操控它们。</p><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><p>AOE云有几项我们可以利用的特殊功能：</p><ul><li>作为[虚拟实体](file:///c/Users/MCxlm/Downloads/bedrock-wiki-wiki/bedrock-wiki-wiki/docs/entities/dummy-entities)，AOE云性能极高。它们被优化为与世界或其他实体没有碰撞。这使得它们非常适合围绕玩家或其他实体的情况。</li><li>AOE云完全静止，只能通过命令移动。这对于精确定位很重要的情况非常理想。</li><li>AOE云可以配置为施加药水效果。持续时间可以设置到刻度，以及效果是否环境友好、是否在屏幕上显示、是否发出粒子等。</li><li>具有<code class="shiki"><span>minecraft:area_effect_cloud</span></code>运行时标识符的实体继承了这些相同属性。</li></ul><h2 id="放置aoe云" tabindex="-1">放置AOE云 <a class="header-anchor" href="#放置aoe云" aria-label="Permalink to &quot;放置AOE云&quot;">​</a></h2><p>要创建AOE云，我们首先需要创建一个结构来容纳它。AOE云必须具有特定的NBT数据才能正确存在。</p><h3 id="nbt编辑器" tabindex="-1">NBT编辑器 <a class="header-anchor" href="#nbt编辑器" aria-label="Permalink to &quot;NBT编辑器&quot;">​</a></h3><p>推荐使用以下NBT编辑器之一来编辑结构文件：</p><ul><li><a href="https://github.com/tryashtar/nbt-studio" target="_blank" rel="noreferrer">NBT Studio</a>（由tryashtar制作的独立程序）</li><li><a href="https://marketplace.visualstudio.com/items?itemName=Misodee.vscode-nbt" target="_blank" rel="noreferrer">NBT Viewer</a>（由Misode制作的Visual Studio Code扩展）</li></ul><h3 id="结构文件" tabindex="-1">结构文件 <a class="header-anchor" href="#结构文件" aria-label="Permalink to &quot;结构文件&quot;">​</a></h3><p>为方便起见，本文包含一个预制的结构文件，您可以下载并使用。其中包含一个具有最小可能半径（0.5个方块）的AOE云，存在最长时间（<code class="shiki"><span>2^31 - 1</span></code>刻度，大约29,826小时）。</p>',11)),a(l,{link:"/assets/packs/entities/aec/aec.mcstructure",download:""},{default:t(()=>s[0]||(s[0]=[n(" 下载MCSTRUCTURE ")])),_:1}),s[4]||(s[4]=i('<p>请参考本文了解如何编辑结构文件：[.mcstructure](file:///c/Users/MCxlm/Downloads/bedrock-wiki-wiki/bedrock-wiki-wiki/docs/nbt/mcstructure)</p><h3 id="nbt格式" tabindex="-1">NBT格式 <a class="header-anchor" href="#nbt格式" aria-label="Permalink to &quot;NBT格式&quot;">​</a></h3><table tabindex="0"><thead><tr><th>标签</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>Duration</td><td>整数</td><td>云存在多久后消失，以刻度为单位。值为0将导致云瞬间消失。</td></tr><tr><td>DurationOnUse</td><td>整数</td><td>应用效果时持续时间应如何改变。</td></tr><tr><td>InitialRadius</td><td>浮点数</td><td>云创建时的半径大小。小于0.5的值会导致云瞬间消失。</td></tr><tr><td>RadiusChangeOnPickup</td><td>浮点数</td><td>玻璃瓶拾取时效果半径改变多少。这用于末影龙吐息云。</td></tr><tr><td>RadiusOnUse</td><td>浮点数</td><td>应用效果时半径应如何改变。</td></tr><tr><td>RadiusPerTick</td><td>浮点数</td><td>每刻度半径改变多少。</td></tr><tr><td>ParticleColor</td><td>整数</td><td>粒子效果的颜色，以十进制存储。</td></tr><tr><td>ParticleId</td><td>整数</td><td>用于存储组件粒子ID的遗留值。无效果。</td></tr><tr><td>PotionId</td><td>短整数</td><td>创建时此云的药水效果ID。无效果。</td></tr><tr><td>ReapplicationDelay</td><td>整数</td><td>效果可以应用的间隔，以刻度为单位。</td></tr><tr><td>mobEffects</td><td>列表</td><td>描述应施加什么药水效果。</td></tr></tbody></table><p>以下是<code class="shiki"><span>mobEffects</span></code>标签的参数。</p><table tabindex="0"><thead><tr><th>标签</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>Ambient</td><td>字节</td><td>定义此效果的粒子是否应该是半透明的。</td></tr><tr><td>Amplifier</td><td>字节</td><td>此药水效果的强度。</td></tr><tr><td>DisplayOnScreenTextureAnimation</td><td>字节</td><td>应用效果时显示屏幕动画。这用于坏兆头、图腾和村庄英雄以在获得效果时显示浮动图标。</td></tr><tr><td>Duration</td><td>整数</td><td>此效果应用的时间量，以刻度为单位。</td></tr><tr><td>DurationEasy</td><td>整数</td><td>简单模式下效果消失前的刻度数。</td></tr><tr><td>DurationNormal</td><td>整数</td><td>普通模式下效果消失前的刻度数。</td></tr><tr><td>DurationHard</td><td>整数</td><td>困难模式下效果消失前的刻度数。</td></tr><tr><td>Id</td><td>字节</td><td>此效果的药水效果ID。</td></tr><tr><td>ShowParticles</td><td>字节</td><td>定义此效果的粒子是否应该出现。</td></tr></tbody></table><h2 id="使用aoe云" tabindex="-1">使用AOE云 <a class="header-anchor" href="#使用aoe云" aria-label="Permalink to &quot;使用AOE云&quot;">​</a></h2><p>一旦放置了AOE云，我们就可以像使用任何其他标记/虚拟实体一样使用它。</p><p>使用AOE云时需要考虑的一些事项：</p><ul><li>它们使用粒子发射器<code class="shiki"><span>minecraft:mobspell_lingering</span></code>。为了避免看到粒子，资源包必须修改此粒子发射器。</li><li>实体<code class="shiki"><span>minecraft:area_effect_cloud</span></code>不向客户端发送其位置的更新；这意味着它将固定在生成的位置。仍然可以使用<code class="shiki"><span>/teleport</span></code>移动它。</li></ul><h3 id="脚本实用工具" tabindex="-1">脚本实用工具 <a class="header-anchor" href="#脚本实用工具" aria-label="Permalink to &quot;脚本实用工具&quot;">​</a></h3><p>为了更容易操控AOE云，提供了以下实用工具。它导出一个函数<code class="shiki"><span>registerOnEntityLoad</span></code>，在实体加载时调用回调。这可用于在将生成推迟到结构管理器后访问AOE云。</p>',11)),a(l,{link:"/assets/packs/entities/aec/entity_load_handler.js",download:""},{default:t(()=>s[1]||(s[1]=[n(" 下载实用工具 ")])),_:1}),a(h,null,{default:t(()=>s[2]||(s[2]=[n("示例用法：")])),_:1}),s[5]||(s[5]=i(`<div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">import</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">world</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">DimensionLocation</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> } </span><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">from</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;@minecraft/server&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">import</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> { </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">registerOnEntityLoad</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> } </span><span style="--shiki-dark:#C586C0;--shiki-light:#AF00DB;">from</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;"> &quot;./entity_load_handler.js&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">/**</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;"> * </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">@param</span><span style="--shiki-dark:#4EC9B0;--shiki-light:#267F99;"> {DimensionLocation}</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> location</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;"> */</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;"> spawnMarker</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">) {</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">    const</span><span style="--shiki-dark:#4FC1FF;--shiki-light:#0070C1;"> Structure_Location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">        x:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> Math</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">floor</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">        y:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> Math</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">floor</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">y</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">        z:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> Math</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">floor</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">),</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    };</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">    world</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">structureManager</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">place</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;mystructure:aec&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">dimension</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">Structure_Location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">    registerOnEntityLoad</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;minecraft:area_effect_cloud&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">, </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">function</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;"> initializeMarker</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">entity</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">) {</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">        const</span><span style="--shiki-dark:#4FC1FF;--shiki-light:#0070C1;"> Entity_Location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            x:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            y:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">y</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">            z:</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;"> location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">,</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">        };</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">        entity</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">teleport</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">Entity_Location</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">        entity</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">addTag</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;origin&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#6A9955;--shiki-light:#008000;">        // 等等。</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    });</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div>`,1))])}const m=p(d,[["render",D]]);export{b as __pageData,m as default};
