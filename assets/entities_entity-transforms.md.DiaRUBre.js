import{_ as e,E as p,j as h,k,a5 as l,A as n,l as i,J as t}from"./chunks/framework.3Z9w-w8R.js";const C=JSON.parse('{"title":"在任意空间之间转换点（世界、实体、骨骼）","description":"在本页面中我们将讨论如何在Minecraft中转换不同的坐标系。","frontmatter":{"title":"在任意空间之间转换点（世界、实体、骨骼）","category":"Tutorials","tags":["intermediate"],"mentions":["Johnb003","SmokeyStack"],"description":"在本页面中我们将讨论如何在Minecraft中转换不同的坐标系。"},"headers":[{"level":2,"title":"概述","slug":"概述","link":"#概述","children":[]},{"level":2,"title":"背景知识","slug":"背景知识","link":"#背景知识","children":[{"level":3,"title":"矩阵","slug":"矩阵","link":"#矩阵","children":[]}]},{"level":2,"title":"开始之前先了解世界","slug":"开始之前先了解世界","link":"#开始之前先了解世界","children":[]},{"level":2,"title":"最后！！让我们从一个实体开始","slug":"最后-让我们从一个实体开始","link":"#最后-让我们从一个实体开始","children":[{"level":4,"title":"1: Inverse(Translation)","slug":"_1-inverse-translation","link":"#_1-inverse-translation","children":[]},{"level":4,"title":"2: Inverse(RotationZ)","slug":"_2-inverse-rotationz","link":"#_2-inverse-rotationz","children":[]},{"level":4,"title":"3: Inverse(RotationY)","slug":"_3-inverse-rotationy","link":"#_3-inverse-rotationy","children":[]},{"level":4,"title":"4: Inverse(RotationX)","slug":"_4-inverse-rotationx","link":"#_4-inverse-rotationx","children":[]},{"level":4,"title":"5: Inverse(Scale)","slug":"_5-inverse-scale","link":"#_5-inverse-scale","children":[]}]}],"relativePath":"entities/entity-transforms.md","filePath":"entities/entity-transforms.md"}'),r={name:"entities/entity-transforms.md"};function d(D,s,o,g,y,c){const a=p("WikiImage");return k(),h("div",null,[s[0]||(s[0]=l('<h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><p>在本页面中我们将讨论如何在Minecraft中转换不同的坐标系。您可能希望这样做的原因有很多：</p><ul><li>如果您想要使用细长方块构建3D线来可视化某些3D空间，您需要从世界坐标转换到实体骨骼。</li><li>如果您想要准确地进行头部跟踪，并想要测量从实体上某个特定关节到目标的角度。</li><li>如果您想要从武器尖端发射抛射物。</li><li>如果您想要解决肢体的逆运动学链(IK)以匹配地面接触点。</li></ul><h2 id="背景知识" tabindex="-1">背景知识 <a class="header-anchor" href="#背景知识" aria-label="Permalink to &quot;背景知识&quot;">​</a></h2><p>在我们进入指南之前，有一些背景话题值得介绍。</p><h3 id="矩阵" tabindex="-1">矩阵 <a class="header-anchor" href="#矩阵" aria-label="Permalink to &quot;矩阵&quot;">​</a></h3><p>通常当我们把所有内容发送到显卡时，我们会将它们转换为矩阵，因为这样可以非常高效地通过一组矩阵变换许多顶点（比如网格的顶点）。游戏通常使用其他表示方法，比如四元数，或者在Minecraft的情况下使用欧拉旋转，但首先最好对矩阵有扎实的理解。</p><p>如果您看到一个充满各种值的4x4矩阵，如果您不习惯处理它们，可能需要特殊能力才能看透它们，就像这样。</p>',8)),n(a,{src:"/assets/images/tutorials/entity-transforms/image-1.png"}),s[1]||(s[1]=i("p",null,'但是，通常我们处理的3D变换矩阵实际上只是一个位置偏移和一个由"轴向量"表示的旋转，这些轴向量描述了X、Y和Z轴，每个都是一个3分量向量。',-1)),s[2]||(s[2]=i("p",null,"当写入3x3矩阵时，方向向量是单位长度向量（除非有缩放），这些向量就像您习惯看到的任何方向向量一样，它们有x、y、z分量定义该空间的轴向方向。",-1)),n(a,{src:"/assets/images/tutorials/entity-transforms/image.png"}),s[3]||(s[3]=l(`<p>在3x3矩阵中（尤其是在教科书中），它们沿列排列，如下所示：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span>[ XAxis.x  YAxis.x  ZAxis.x ]</span></span>
<span class="line"><span>[ XAxis.y  YAxis.y  ZAxis.y ]</span></span>
<span class="line"><span>[ XAxis.z  YAxis.z  ZAxis.z ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在程序中，您总是会将数据存储在内存中，格式为<code class="shiki"><span>&lt;XAxis.x, XAxis.y, XAxis.z, YAxis.x, YAxis.y, YAxis.z, ZAxis.x, ZAxis.y, ZAxis.z&gt;</span></code>，无论您是行主序还是列主序(<a href="https://en.wikipedia.org/wiki/Row-_and_column-major_order" target="_blank" rel="noreferrer">关于行与列主序的维基</a>)，这意味着如果您是行主序，您将XAxis沿行放置。如果您的数学库遵循规则，那么它会影响<strong>事物相乘的顺序</strong>：</p><p>对于所有的矩阵乘法，总是行×列。</p><p>所以，对于<strong>行主序</strong>，要进行向量和矩阵的乘法：row_vector * matrix = row_vector：</p>`,5)),n(a,{src:"/assets/images/tutorials/entity-transforms/image-2.png"}),s[4]||(s[4]=i("p",null,[t("对于"),i("strong",null,"列主序"),t("，要进行与行主序相同的乘法，您需要颠倒顺序：")],-1)),n(a,{src:"/assets/images/tutorials/entity-transforms/image-3.png"}),s[5]||(s[5]=l(`<p>以上区分确实很重要，特别是如果您在线阅读一些材料时，能够理解经此变换的数据受影响的顺序。</p><p>所以这意味着，如果我们有一个相对于右手的位置，想知道它在世界中的位置，我们首先需要用右手变换它，然后是右肘，然后是右肩、脊柱、骨盆、根部、实体等，直到它在世界空间中。用列主序写出来就是：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span>Entity * RootBone * Pelvis * Spine0 .. SpineN * RShoulder * RightElbow * RightHand * point;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果您涉及更复杂的变换，强烈建议将变换命名以反映它们从哪个空间变换到哪个空间。因此对于上面的例子，我们会使用类似这样的：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span>World_To_Entity * Entity_To_Root * Root_To_Pelvis * Pelvis_To_Spine0 .. Spine(N-1)_To_SpineN * SpineN_To_RShoulder * RShoulder_To_RElbow * RElbow_To_RHand * RHand_point;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>我们就不容易混淆我们处于哪个&quot;空间&quot;。上面描述的是&quot;局部空间&quot;。每个关节相对于父关节。但如果我们将从<code class="shiki"><span>Root</span></code>到<code class="shiki"><span>RHand</span></code>的所有内容相乘，得到的变换仍然是<code class="shiki"><span>RHand</span></code>变换，只是在&quot;角色或实体空间&quot;中。要将其转换到世界空间，我们必须乘以<code class="shiki"><span>World_To_Entity * Entity_To_RHand = World_To_RHand</span></code></p><p>从技术上讲，这种&quot;To&quot;命名有点混乱，因为实体变换应用到一个点上实际上是变换<code class="shiki"><span>EntityToWorld</span></code>，但它是从右到左应用的，所以<code class="shiki"><span>World_To_Entity</span></code>从右到左读就是<code class="shiki"><span>Entity_To_World</span></code>。我也见过：<code class="shiki"><span>WorldFromEntity * EntityFromRoot</span></code>。无论使用&quot;From vs To&quot;哪种，使用这种相对而非绝对命名的好处是，当您看到它写出来时，您可以验证数学是否正确：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span>A_To_B = A_To_Something * Something_To_B</span></span>
<span class="line"><span>              ^^^^^^^^^^^^^^^^^^^^^</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>标记区域：<code class="shiki"><span>^</span></code> 应该始终保持一致。结合并删除中间部分会给您它实际功能的自然名称。</p><p>最后，转向Minecraft。在撰写本文时，Minecraft没有可以相乘的变换，所以它们没有推断列或行主序符号。您只需获得一个变换，如何应用它取决于您。但是，选择了上面的列主序后，我们可以写下操作的工作顺序，只要按顺序应用，就没问题。</p><p>此外，无论我们使用TRS（变换-旋转-缩放组合对象）、四元数、矩阵还是欧拉角，当涉及旋转时，顺序确实重要。先旋转A再旋转B，与先旋转B再旋转A是不同的。</p><h2 id="开始之前先了解世界" tabindex="-1">开始之前先了解世界 <a class="header-anchor" href="#开始之前先了解世界" aria-label="Permalink to &quot;开始之前先了解世界&quot;">​</a></h2><p>让我们想想在未旋转的标准情况下这些轴向量。实际上我们可以确定正X、Y和Z的方向，通过在世界中移动。当您第一次进入游戏时，您面朝正北，游戏称之为北。如果您向前走，您会看到这增加了您的Z值。如果您跳跃，您会看到Y增加。剩下X，这不对！不，这没错，而是左边！当您继续面朝北时，如果您向左平移，这会增加您的X值。这是一个右手坐标系（如果您指向某个轴，弯曲手指到下一个连续轴，您的拇指指向第三个轴。XY-&gt;Z，YZ-&gt;X，Z的循环：ZX-&gt;Y）。</p><h2 id="最后-让我们从一个实体开始" tabindex="-1">最后！！让我们从一个实体开始 <a class="header-anchor" href="#最后-让我们从一个实体开始" aria-label="Permalink to &quot;最后！！让我们从一个实体开始&quot;">​</a></h2><p>创建实体时，我建议从blockbench开始，制作的第一个实体是一个简单的3轴框架，如下所示：</p>`,15)),n(a,{src:"/assets/images/tutorials/entity-transforms/image-4.png"}),s[6]||(s[6]=i("p",null,'此时需要注意几个奇怪的事情。请密切关注Blockbench标记的"北、东、南、西"方向。',-1)),s[7]||(s[7]=i("ol",null,[i("li",null,'首要注意的是，这与Minecraft世界坐标系旋转了180度。您应该让您的实体面朝"北"，这相对于游戏世界坐标来说是负Z。'),i("li",null,"这变得更奇怪了。如果您在正X方向移动盒子，盒子坐标显示为正值，但如果您创建骨骼并转到动画选项卡并尝试调整骨骼位置，移动手柄仍然如预期，但现在在正方向拖动手柄实际上会给X带来负值。动画中的+X向西，而+Y仍向上，+Z仍向南。因此与Minecraft世界相比，我们必须翻转Z，并开始在实体中使用左手坐标系。"),i("li",null,'实体中有16倍的缩放因子。世界中的"方块"或1个单位，实际上在实体中是16个单位。')],-1)),s[8]||(s[8]=i("p",null,"让我们尝试将我们的3轴东西放在一个骨骼下。 然后复制该组，这样我们有一个保留在实体上，一个可以移动到世界位置。",-1)),n(a,{src:"/assets/images/tutorials/entity-transforms/image-5.png"}),s[9]||(s[9]=i("ol",null,[i("li",null,"转到动画选项卡。")],-1)),n(a,{src:"/assets/images/tutorials/entity-transforms/image-6.png"}),s[10]||(s[10]=i("ol",{start:"2"},[i("li",null,"创建新动画。")],-1)),n(a,{src:"/assets/images/tutorials/entity-transforms/image-7.png"}),s[11]||(s[11]=i("ol",{start:"3"},[i("li",null,"为移动器添加位置关键帧。")],-1)),n(a,{src:"/assets/images/tutorials/entity-transforms/image-8.png"}),s[12]||(s[12]=i("ol",{start:"4"},[i("li",null,"尝试在X轴上移动并确认事情很奇怪。")],-1)),n(a,{src:"/assets/images/tutorials/entity-transforms/image-9.png"}),s[13]||(s[13]=i("ol",{start:"6"},[i("li",null,[t("现在让我们使用变量设置位置，我们将在"),i("code",{class:"shiki"},[i("span",null,"pre_animation")]),t("脚本中设置。")])],-1)),n(a,{src:"/assets/images/tutorials/entity-transforms/image-11.png"}),s[14]||(s[14]=l(`<ol start="7"><li>您可以从最小机器人示例中混合搭配，了解如何开始使用您的实体。您还将保存blockbench几何体、动画。在行为方面，目前您不需要太多。也许只是：</li></ol><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;minecraft:physics&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {},</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;minecraft:collision_box&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {},</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在实体方面，您只需要播放动画的最低要求：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;animations&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;myAnim&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: </span><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;animation.tut_transform.move&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">},</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">&quot;scripts&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: {</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;pre_animation&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">        &quot;// TODO -- 我们接下来将填写这个。&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    ],</span></span>
<span class="line"><span style="--shiki-dark:#9CDCFE;--shiki-light:#0451A5;">    &quot;animate&quot;</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">: [</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">        &quot;myAnim&quot;</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">    ]</span></span>
<span class="line"><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>最后对于脚本，我们可以这样做：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">v.target.x = 10;</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">v.target.y = q.position(1);</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">v.target.z = 10;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">v.target.x = v.target.x - q.position(0);</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">v.target.y = v.target.y - q.position(1);</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">v.target.z = v.target.z - q.position(2);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">t.cos_yaw = math.cos(q.body_y_rotation);</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">t.sin_yaw = math.sin(q.body_y_rotation);</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">t.x = v.target.x;</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">v.target.x=t.cos_yaw * t.x + t.sin_yaw * v.target.z;</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">v.target.z=-t.sin_yaw * t.x + t.cos_yaw * v.target.z;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">v.target.x = v.target.x * 16;</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">v.target.y = v.target.y * 16;</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">v.target.z = -v.target.z * 16;</span></span>
<span class="line"><span style="--shiki-dark:#CE9178;--shiki-light:#A31515;">&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>让我们稍微分解一下：</p><p>pre_animation在动画之前运行，并运行此脚本。脚本的目的是给定一个位置，也许您的插件会通过脚本从行为中通过参数提供输入？</p><p>目前您可以将这些硬编码为世界位置10,y,10，其中y与实体的高度相同。</p><div class="language-molang vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">molang</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">10</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">y</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">q</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">position</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">1</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">10</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>所以一般来说，我们正在应用&quot;TRS&quot;变换、旋转和缩放，从一个空间转换到另一个空间。</p><p>从技术上讲，请记住我们会这样写变换堆栈：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span>Translation * RotationZ * RotationY * RotationX * Scale * point;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>但在我们的情况下，不是从实体到世界进行变换，而是从世界到实体进行变换。当我们有这种可逆的非交换数学运算时，应用此逆变换的方法如下：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span>inverse(A*B) = inverse(B) * inverse(A)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这意味着，对操作取反，并以相反顺序执行。所以我们按此顺序对向量应用这些操作。</p><ol><li>inverse(Translation)</li><li>inverse(RotationZ)</li><li>inverse(RotationY)</li><li>inverse(RotationX)</li><li>inverse(Scale)</li></ol><p>数学上看起来像：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span>Inverse(Scale) * Inverse(RotationX) * Inverse(RotationY) * Inverse(RotationZ) * Inverse(Translation) * point;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这是从右到左进行的。</p><h4 id="_1-inverse-translation" tabindex="-1">1: Inverse(Translation) <a class="header-anchor" href="#_1-inverse-translation" aria-label="Permalink to &quot;1: Inverse(Translation)&quot;">​</a></h4><p>如果通常（向前方向）您从实体到世界，您会取实体的相对位置（比如关节位置）并加上实体的。所以在反向中，我们减去实体的位置。</p><div class="language-molang vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">molang</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target_x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target_x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> - </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">q</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">position</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">0</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target_y</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target_y</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> - </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">q</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">position</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">1</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target_z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target_z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> - </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">q</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">position</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">2</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_2-inverse-rotationz" tabindex="-1">2: Inverse(RotationZ) <a class="header-anchor" href="#_2-inverse-rotationz" aria-label="Permalink to &quot;2: Inverse(RotationZ)&quot;">​</a></h4><p>目前实体似乎只能通过控制器调整俯仰和偏航。所以没有&quot;Z&quot;。所以我们跳过这一步。</p><h4 id="_3-inverse-rotationy" tabindex="-1">3: Inverse(RotationY) <a class="header-anchor" href="#_3-inverse-rotationy" aria-label="Permalink to &quot;3: Inverse(RotationY)&quot;">​</a></h4><p>要查询实体的偏航，有一个查询方法：q.body_y_rotation。我们将使用这个，但要考虑正旋转应该使角色向左转。用角度旋转向量是一个相当简单的公式，使用sin和cos，但正确设置符号很重要。想想如果您有一个最初面向世界+z的向量，然后向左旋转，+X轴最初会变成正还是负？在我们的情况下，X左实际上是世界空间，所以X左是正的。同样，如果我们有一个面向正+X（向左）的向量，然后开始向左旋转，Z轴会开始变成什么？... 是的，负数。您只否定正弦项。最后一点注意，t.x是一个临时变量，用于保存目标值</p><div class="language-molang vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">molang</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">cos_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">math</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">cos</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">q</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4FC1FF;--shiki-light:#0070C1;">body_y_rotation</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">sin_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">math</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">sin</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">q</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4FC1FF;--shiki-light:#0070C1;">body_y_rotation</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target_x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target_x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">=</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">cos_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> * </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> + </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">sin_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> * </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target_z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target_z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">=-</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">sin_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> * </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> + </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">cos_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> * </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target_z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>注意，通常我喜欢这样写：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span>new_first_axis = cos(angle) * first_axis - sin(angle) * second_axis;</span></span>
<span class="line"><span>new_second_axis = sin(angle) * first_axis + cos(angle) * second_axis;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>其中第一轴和第二轴是旋转轴的两个垂直轴，但按右手顺序。所以：XY、YZ或ZX。</p><p>换句话说，这里是另一种替代方法，将与其他欧拉角更一致，XY和YZ。</p><div class="language-molang vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">molang</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">cos_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">math</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">cos</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">q</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4FC1FF;--shiki-light:#0070C1;">body_y_rotation</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">sin_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">math</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#DCDCAA;--shiki-light:#795E26;">sin</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">(</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">q</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#4FC1FF;--shiki-light:#0070C1;">body_y_rotation</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">);</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">=</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">cos_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> * </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> - </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">sin_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> * </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">=</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">sin_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> * </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> + </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">t</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">cos_yaw</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> * </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_4-inverse-rotationx" tabindex="-1">4: Inverse(RotationX) <a class="header-anchor" href="#_4-inverse-rotationx" aria-label="Permalink to &quot;4: Inverse(RotationX)&quot;">​</a></h4><p>我认为实体确实可以俯仰，但这在实践中我没有见过。所以我跳过了。</p><p>这是读者的练习，不过稍后在涉及骨骼变换时会有更多信息，因此您可以从该部分获得更多上下文（当我讲到那里时）。</p><h4 id="_5-inverse-scale" tabindex="-1">5: Inverse(Scale) <a class="header-anchor" href="#_5-inverse-scale" aria-label="Permalink to &quot;5: Inverse(Scale)&quot;">​</a></h4><p>最后一步是从世界到实体应用缩放。实体需要用较小的单位表示，所以在这个方向的操作是乘法。如果我们从实体到世界，那就是除以16。</p><p>这里还包括一个偷偷摸摸的小否定，正如指出的，从技术上讲，X在Blockbench动画时与看起来应该的相反，但这实际上与世界坐标系对齐，而Z仍然相反。所以在缩放步骤中我们只需翻转Z。</p><div class="language-molang vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">molang</span><pre class="shiki shiki-themes dark-plus light-plus vp-code" tabindex="0"><code><span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">x</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> * </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">16</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">y</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = </span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">y</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> * </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">16</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span>
<span class="line"><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> = -</span><span style="--shiki-dark:#569CD6;--shiki-light:#0000FF;">v</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">target</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">.</span><span style="--shiki-dark:#9CDCFE;--shiki-light:#001080;">z</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;"> * </span><span style="--shiki-dark:#B5CEA8;--shiki-light:#098658;">16</span><span style="--shiki-dark:#D4D4D4;--shiki-light:#000000;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,40))])}const b=e(r,[["render",d]]);export{C as __pageData,b as default};
