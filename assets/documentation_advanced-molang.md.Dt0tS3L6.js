import{_ as a,j as i,k as e,a5 as l}from"./chunks/framework.3Z9w-w8R.js";const k=JSON.parse('{"title":"高级Molang","description":"了解Molang中更高级的主题。","frontmatter":{"title":"高级Molang","description":"了解Molang中更高级的主题。","mentions":["Ciosciaa","TheItsNameless","QuazChick"]},"headers":[{"level":2,"title":"值","slug":"值","link":"#值","children":[{"level":3,"title":"布尔值","slug":"布尔值","link":"#布尔值","children":[]},{"level":3,"title":"数字","slug":"数字","link":"#数字","children":[]},{"level":3,"title":"字符串","slug":"字符串","link":"#字符串","children":[]}]},{"level":2,"title":"运算符","slug":"运算符","link":"#运算符","children":[]},{"level":2,"title":"语句","slug":"语句","link":"#语句","children":[]},{"level":2,"title":"集合","slug":"集合","link":"#集合","children":[]},{"level":2,"title":"评估","slug":"评估","link":"#评估","children":[]},{"level":2,"title":"限制","slug":"限制","link":"#限制","children":[]}],"relativePath":"documentation/advanced-molang.md","filePath":"documentation/advanced-molang.md"}'),c={name:"documentation/advanced-molang.md"};function n(o,s,d,p,h,t){return e(),i("div",null,s[0]||(s[0]=[l('<h2 id="值" tabindex="-1">值 <a class="header-anchor" href="#值" aria-label="Permalink to &quot;值&quot;">​</a></h2><ul><li>Molang中的所有表达式都会返回一个值以供相等性检查。大多数表达式返回<code class="shiki"><span>0</span></code>。值得注意的是，赋值返回分配的值，循环返回循环语句的解析值（如果存在）。</li><li>Molang中的所有值实际上都是单精度浮点数。</li><li><code class="shiki"><span>this</span></code>用于引用字段在评估过程中累积的当前值。它只在动画中被观察到可用，但可能在其他地方也可用。例如，如果骨骼的<code class="shiki"><span>x</span></code> <code class="shiki"><span>scale</span></code>上的累积变换会产生<code class="shiki"><span>62</span></code>，则最终动画中<code class="shiki"><span>x</span></code> <code class="shiki"><span>scale</span></code>为<code class="shiki"><span>-this</span></code>将解析为<code class="shiki"><span>-62</span></code>，取消之前的变换。这在原版动画中的许多地方都有使用。在动画上下文之外，<code class="shiki"><span>this</span></code>似乎总是解析为<code class="shiki"><span>0</span></code>。</li></ul><h3 id="布尔值" tabindex="-1">布尔值 <a class="header-anchor" href="#布尔值" aria-label="Permalink to &quot;布尔值&quot;">​</a></h3><ul><li>布尔值可在Molang中使用。<code class="shiki"><span>true</span></code>解析为<code class="shiki"><span>1</span></code>，<code class="shiki"><span>false</span></code>解析为<code class="shiki"><span>0</span></code>。</li></ul><h3 id="数字" tabindex="-1">数字 <a class="header-anchor" href="#数字" aria-label="Permalink to &quot;数字&quot;">​</a></h3><ul><li>您可以在数字前面使用前导<code class="shiki"><span>0</span></code>，例如，为了让它们在代码中更好地对齐。</li><li>数字可以使用指数记数法，例如<code class="shiki"><span>2.5e2</span></code>，等于250。<code class="shiki"><span>e</span></code>后面可以跟<code class="shiki"><span>+</span></code>或<code class="shiki"><span>-</span></code>来指示幂次。</li><li>数字可以用单个<code class="shiki"><span>f</span></code>后缀，通常用于表示浮点值。这可以在原版代码中找到，但据信没有任何功能。</li></ul><h3 id="字符串" tabindex="-1">字符串 <a class="header-anchor" href="#字符串" aria-label="Permalink to &quot;字符串&quot;">​</a></h3><ul><li>字符串使用<code class="shiki"><span>\\</span></code>（在转义JSON中为<code class="shiki"><span>\\\\</span></code>）作为某种转义或其他功能。尚不清楚这有什么功能。已知后续2个字符会被传递给自己的子解析器，该解析器在遇到闭合<code class="shiki"><span>&#39;</span></code>时无法正确退出；这意味着Molang字符串<code class="shiki"><span>&quot;v.type = &#39;\\\\x&#39;;&quot;</span></code>是无效的。单独的<code class="shiki"><span>&#39;</span></code>通常不允许，因为它表示字符串的结束，但在<code class="shiki"><span>\\</span></code>之后的2个字符中允许使用<code class="shiki"><span>&#39;</span></code>。</li><li>字符串值（大部分）是递增的，因为它们与浮点数对应。可以使用相等或比较运算符比较2个单字符字符串，甚至可以有效地&quot;调整&quot;单字符字符串的内容。多字符的此类行为尚不清楚。</li></ul><h2 id="运算符" tabindex="-1">运算符 <a class="header-anchor" href="#运算符" aria-label="Permalink to &quot;运算符&quot;">​</a></h2><p>完整的优先级列表，从最先到最后评估：</p><ol><li><code class="shiki"><span>()</span></code> 和 <code class="shiki"><span>[]</span></code></li><li><code class="shiki"><span>-&gt;</span></code></li><li><code class="shiki"><span>!</span></code> 和 <code class="shiki"><span>-</span></code> （一元负号）</li><li><code class="shiki"><span>*</span></code> 和 <code class="shiki"><span>/</span></code></li><li><code class="shiki"><span>+</span></code> 和 <code class="shiki"><span>-</span></code> （二进制减法）</li><li><code class="shiki"><span>&lt;</span></code>, <code class="shiki"><span>&lt;=</span></code>, <code class="shiki"><span>&gt;</span></code>, 和 <code class="shiki"><span>&gt;=</span></code></li><li><code class="shiki"><span>==</span></code> 和 <code class="shiki"><span>!=</span></code></li><li><code class="shiki"><span>&amp;&amp;</span></code></li><li><code class="shiki"><span>||</span></code></li><li><code class="shiki"><span>?</span></code> 和 <code class="shiki"><span>? :</span></code></li><li><code class="shiki"><span>??</span></code></li><li><code class="shiki"><span>=</span></code></li><li><code class="shiki"><span>return</span></code></li></ol><ul><li>除条件运算符外，所有运算符都从左到右考虑。</li><li>不能在同一语句中使用多个<code class="shiki"><span>-&gt;</span></code>。</li><li>逻辑运算符短路。</li></ul><h2 id="语句" tabindex="-1">语句 <a class="header-anchor" href="#语句" aria-label="Permalink to &quot;语句&quot;">​</a></h2><ul><li>赋值返回分配的值。因此，如果需要从单个值中获得单独变量，可以链接赋值，如<code class="shiki"><span>v.iterator_x = (v.iterator_z = math.random_integer(16, 32));</span></code>。</li><li>大括号范围内最后一个语句不需要以<code class="shiki"><span>;</span></code>结尾。</li><li>可以在任何可以使用表达式的地方使用大括号。例如，<code class="shiki"><span>v.spawn_point ?? { v.target = false; };</span></code>将在<code class="shiki"><span>v.spawn_point</span></code>未定义时将<code class="shiki"><span>v.target</span></code>设置为<code class="shiki"><span>false</span></code>。</li></ul><h2 id="集合" tabindex="-1">集合 <a class="header-anchor" href="#集合" aria-label="Permalink to &quot;集合&quot;">​</a></h2><ul><li>数组下标的结果不能直接作为<code class="shiki"><span>+</span></code>、<code class="shiki"><span>-</span></code>、<code class="shiki"><span>*</span></code>或<code class="shiki"><span>/</span></code>的参数，但仍可以直接用作函数参数（甚至是数学函数）或与其他运算符一起使用。</li></ul><h2 id="评估" tabindex="-1">评估 <a class="header-anchor" href="#评估" aria-label="Permalink to &quot;评估&quot;">​</a></h2><ul><li><code class="shiki"><span>initialize</span></code>和<code class="shiki"><span>pre_animation</span></code>是懒连接的。这些数组中的Molang字符串必须各自语法有效，但所有独立字符串的基本连接也必须是有效的Molang输入。</li></ul><h2 id="限制" tabindex="-1">限制 <a class="header-anchor" href="#限制" aria-label="Permalink to &quot;限制&quot;">​</a></h2><ul><li>Molang对语言功能没有表现出合理的限制，除了数字大小。在非常不合理的情况下，循环计数、字符串长度、Molang输入长度、集合大小等都被观察到仍然有效。</li></ul>',20)]))}const u=a(c,[["render",n]]);export{k as __pageData,u as default};
